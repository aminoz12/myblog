---
import Layout from '../layouts/Layout.astro';
import Translate from '../components/common/Translate.astro';
import LiveChat from '../components/common/LiveChat.astro';


// Mock data for featured posts (libertine/BDSM content)
const featuredPosts = [
  {
    slug: 'decouverte-bdsm-debutants',
    title: 'D√©couverte du BDSM : Guide Complet pour D√©butants',
    excerpt: 'Plongez dans l\'univers fascinant du BDSM. D√©couvrez les bases, la s√©curit√©, et comment explorer vos d√©sirs en toute confiance.',
    image: '/images/bdsm-beginners.jpg',
    category: 'BDSM',
    publishedAt: '2025-01-15',
    readTime: '8 min',
    author: 'Dr. Sensuel',
    tags: ['BDSM', 'D√©butants', 'S√©curit√©', 'D√©couverte'],
    isExplicit: true
  },
  {
    slug: 'art-libertinage-moderne',
    title: 'L\'Art du Libertinage Moderne : √âthique et Plaisir',
    excerpt: 'Red√©couvrez le libertinage comme un art de vivre. √âthique, consentement et exploration des plaisirs partag√©s.',
    image: '/images/modern-libertinage.jpg',
    category: 'Libertinage',
    publishedAt: '2025-01-12',
    readTime: '10 min',
    author: 'Libertine Experte',
    tags: ['Libertinage', '√âthique', 'Consentement', 'Plaisir'],
    isExplicit: false
  },
  {
    slug: 'roleplay-scenarios-avances',
    title: 'Sc√©narios de Roleplay Avanc√©s : Cr√©er l\'Intensit√©',
    excerpt: 'Ma√Ætrisez l\'art du roleplay avec des sc√©narios sophistiqu√©s qui stimulent l\'imagination et intensifient l\'exp√©rience.',
    image: '/images/advanced-roleplay.jpg',
    category: 'Roleplay',
    publishedAt: '2025-01-10',
    readTime: '12 min',
    author: 'Ma√Ætre de l\'Imagination',
    tags: ['Roleplay', 'Sc√©narios', 'Intensit√©', 'Cr√©ativit√©'],
    isExplicit: true
  }
];

const recentPosts = [
  {
    slug: 'communication-sexe-couple',
    title: 'Communication Sexuelle : Le Secret d\'une Vie √ârotique √âpanouie',
    excerpt: 'Apprenez √† communiquer vos d√©sirs, limites et fantasmes pour une intimit√© plus profonde et satisfaisante.',
    image: '/images/sexual-communication.jpg',
    category: 'Communication',
    publishedAt: '2025-01-08',
    readTime: '7 min'
  },
  {
    slug: 'toys-sexe-choix-utilisation',
    title: 'Sex Toys : Guide Complet du Choix √† l\'Utilisation',
    excerpt: 'D√©couvrez l\'univers des sex toys : comment choisir, utiliser et int√©grer ces accessoires dans votre vie intime.',
    image: '/images/sex-toys-guide.jpg',
    category: 'Sex Toys',
    publishedAt: '2025-01-05',
    readTime: '9 min'
  },
  {
    slug: 'fantasmes-tabous-exploration',
    title: 'Fantasmes et Tabous : L\'Art de l\'Exploration Consciente',
    excerpt: 'Osez explorer vos fantasmes les plus profonds dans un cadre s√©curis√© et bienveillant.',
    image: '/images/fantasies-exploration.jpg',
    category: 'Fantasmes',
    publishedAt: '2025-01-03',
    readTime: '11 min'
  }
];

const categories = [
  { name: 'BDSM', count: 25, color: 'bg-red-100 text-red-800', icon: 'üîó' },
  { name: 'Libertinage', count: 18, color: 'bg-purple-100 text-purple-800', icon: 'üíã' },
  { name: 'Roleplay', count: 15, color: 'bg-blue-100 text-blue-800', icon: 'üé≠' },
  { name: 'Sex Toys', count: 12, color: 'bg-pink-100 text-pink-800', icon: 'ü¶Ñ' },
  { name: 'Fantasmes', count: 20, color: 'bg-orange-100 text-orange-800', icon: '‚ú®' }
];

const stats = [
  { number: '100+', label: 'Articles √ârotiques', icon: 'üìö' },
  { number: '50K+', label: 'Lecteurs Mensuels', icon: 'üë•' },
  { number: '15+', label: 'Cat√©gories', icon: 'üè∑Ô∏è' },
  { number: '100%', label: 'Contenu Mature', icon: 'üî•' }
];
---

<Layout 
  title="Mad2Moi Blog - Exploration √ârotique & Bien-√™tre"
  description="D√©couvrez l'univers de l'exploration √©rotique et du bien-√™tre sexuel √† travers des articles √©ducatifs, des guides pratiques et des t√©moignages authentiques. Contenu mature pour adultes consentants."
  type="website"
>
  <!-- Hero Section -->
  <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Background with animated elements -->
    <div class="absolute inset-0 bg-gradient-to-br from-secondary-900 via-primary-900 to-secondary-800">
      <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ec4899" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-30"></div>
    </div>
    
    <!-- Floating elements -->
    <div class="absolute top-20 left-20 w-32 h-32 bg-primary-500/20 rounded-full blur-xl animate-pulse-slow"></div>
    <div class="absolute bottom-20 right-20 w-40 h-40 bg-sensual-500/20 rounded-full blur-xl animate-pulse-slow delay-1000"></div>
    
    <div class="relative z-10 text-center max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8">
                  <span class="inline-block px-4 py-2 bg-primary-500/20 backdrop-blur-sm border border-primary-500/30 rounded-full text-primary-300 text-sm font-medium mb-6" data-translate="üî• Contenu Mature & Sophistiqu√©">
            üî• Contenu Mature & Sophistiqu√©
          </span>
      </div>
      
              <h1 class="text-5xl md:text-7xl font-bold mb-8 text-glow">
          <span class="text-white">Mad2Moi</span>
          <span class="text-primary-400">Blog</span>
        </h1>
        
        <p class="text-xl md:text-2xl text-secondary-300 mb-12 max-w-4xl mx-auto leading-relaxed" data-translate="Explorez l'univers fascinant de l'exploration √©rotique et du bien-√™tre sexuel √† travers des articles √©ducatifs, des guides pratiques et des t√©moignages authentiques. Pour adultes consentants uniquement.">
          Explorez l'univers fascinant de l'exploration √©rotique et du bien-√™tre sexuel √† travers des articles √©ducatifs, 
          des guides pratiques et des t√©moignages authentiques. 
          <span class="text-primary-400 font-semibold">Pour adultes consentants uniquement.</span>
        </p>
      
      <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
        <a href="/blog" class="btn-primary text-lg px-10 py-4 group">
          <span class="mr-2">üîç</span>
          <span data-translate="Explorer le Blog">Explorer le Blog</span>
          <span class="ml-2 group-hover:translate-x-1 transition-transform">‚Üí</span>
        </a>
        <a href="/about" class="btn-secondary text-lg px-10 py-4">
          <span class="mr-2">üí°</span>
          <span data-translate="En savoir plus">En savoir plus</span>
        </a>
        <a 
          href="https://mad2moi.com" 
          target="_blank" 
          rel="noopener noreferrer"
          class="group relative overflow-hidden bg-gradient-to-r from-primary-500 via-sensual-500 to-primary-600 text-white text-lg px-10 py-4 rounded-lg shadow-2xl hover:shadow-primary-500/50 transition-all duration-500 hover:scale-105 animate-pulse-slow"
        >
          <!-- Animated background elements -->
          <div class="absolute inset-0 bg-gradient-to-r from-primary-600 via-sensual-600 to-primary-700 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          
          <!-- Floating particles -->
          <div class="absolute -top-1 -left-1 w-2 h-2 bg-yellow-400 rounded-full animate-ping"></div>
          <div class="absolute -top-1 -right-1 w-2 h-2 bg-pink-400 rounded-full animate-ping delay-100"></div>
          <div class="absolute -bottom-1 -left-1 w-2 h-2 bg-blue-400 rounded-full animate-ping delay-200"></div>
          
          <!-- Button content -->
          <span class="relative z-10 flex items-center">
            <span class="mr-2 group-hover:scale-125 transition-transform duration-300">üöÄ</span>
            <span class="font-semibold" data-translate="Rejoindre Mad2Moi.com">Rejoindre Mad2Moi.com</span>
            <span class="ml-2 group-hover:scale-125 transition-transform duration-300">‚ú®</span>
          </span>
          
          <!-- Shimmer effect -->
          <div class="absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
        </a>
      </div>
      

      
      <!-- Warning banner -->
      <div class="mt-12 p-4 bg-red-900/30 border border-red-500/50 rounded-lg backdrop-blur-sm">
        <p class="text-red-200 text-sm" data-translate="‚ö†Ô∏è Attention : Ce blog contient du contenu explicite destin√© aux adultes. Vous devez avoir 18 ans ou plus pour acc√©der √† ce contenu.">
          ‚ö†Ô∏è <strong>Attention :</strong> Ce blog contient du contenu explicite destin√© aux adultes. 
          Vous devez avoir 18 ans ou plus pour acc√©der √† ce contenu.
        </p>
      </div>
    </div>
  </section>

  <!-- Featured Posts -->
  <section class="py-20 bg-gradient-to-b from-secondary-900/50 to-secondary-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-elegant" data-translate="Articles √† la Une">
          Articles √† la Une
        </h2>
        <p class="text-xl text-secondary-300 max-w-3xl mx-auto" data-translate="Nos articles les plus populaires et les plus r√©cents sur l'exploration √©rotique">
          Nos articles les plus populaires et les plus r√©cents sur l'exploration √©rotique
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {featuredPosts.map((post) => (
          <article class="card-sensual hover:border-glow group transform hover:scale-105 transition-all duration-500">
            <div class="aspect-video bg-gradient-to-br from-primary-800/50 to-secondary-800/50 rounded-xl mb-6 overflow-hidden border border-primary-700/30">
              <div class="w-full h-full flex items-center justify-center">
                <span class="text-6xl opacity-60">{post.isExplicit ? 'üî•' : 'üíã'}</span>
              </div>
            </div>
            
            <div class="flex items-center gap-3 mb-4">
              <span class="text-xs font-medium px-3 py-1 bg-primary-500/20 text-primary-300 rounded-full border border-primary-500/30" data-translate={post.category}>
                {post.category}
              </span>
              {post.isExplicit && (
                <span class="text-xs font-medium px-3 py-1 bg-red-500/20 text-red-300 rounded-full border border-red-500/30" data-translate="üî• Explicite">
                  üî• Explicite
                </span>
              )}
              <span class="text-sm text-secondary-400">{post.readTime}</span>
            </div>
            
            <h3 class="text-xl font-semibold text-white mb-3 group-hover:text-primary-400 transition-colors font-elegant">
              <a href={`/blog/${post.slug}`} data-translate={post.title}>{post.title}</a>
            </h3>
            
            <!-- Related categories links -->
            <div class="mb-3">
              {post.tags.slice(0, 2).map((tag) => (
                <a href={`/blog?category=${tag.toLowerCase()}`} class="inline-block text-xs px-2 py-1 bg-secondary-800/50 text-secondary-300 rounded border border-secondary-600/30 hover:bg-primary-500/20 hover:text-primary-300 transition-colors mr-2">
                  #{tag}
                </a>
              ))}
            </div>
            
            <p class="text-secondary-300 mb-4 line-clamp-3 leading-relaxed" data-translate={post.excerpt}>{post.excerpt}</p>
            
            <div class="flex items-center justify-between text-sm text-secondary-400">
              <span class="font-medium text-primary-300">{post.author}</span>
              <time datetime={post.publishedAt} data-translate={new Date(post.publishedAt).toLocaleDateString('fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              })}>
                {new Date(post.publishedAt).toLocaleDateString('fr-FR', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                })}
              </time>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Categories -->
  <section class="py-20 bg-gradient-to-b from-secondary-900 to-secondary-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-elegant" data-translate="Explorez par Cat√©gorie">
          Explorez par Cat√©gorie
        </h2>
        <p class="text-xl text-secondary-300 max-w-3xl mx-auto" data-translate="Trouvez le contenu qui correspond √† vos int√©r√™ts et vos envies d'exploration">
          Trouvez le contenu qui correspond √† vos int√©r√™ts et vos envies d'exploration
        </p>
      </div>
      
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        {categories.map((category) => (
          <a 
            href={`/blog?category=${category.name.toLowerCase()}`}
            class="card text-center group hover:border-primary-500/50 transform hover:scale-105 transition-all duration-300"
          >
            <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
              {category.icon}
            </div>
            <div class={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-4 ${category.color}`} data-translate={category.name}>
              {category.name}
            </div>
            <p class="text-3xl font-bold text-white mb-2">{category.count}</p>
            <p class="text-sm text-secondary-400" data-translate="articles">articles</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Recent Posts -->
  <section class="py-20 bg-gradient-to-b from-secondary-800 to-secondary-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between mb-16">
        <div>
          <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-elegant" data-translate="Articles R√©cents">
            Articles R√©cents
          </h2>
          <p class="text-xl text-secondary-300" data-translate="Les derni√®res publications du blog">
            Les derni√®res publications du blog
          </p>
        </div>
        <a href="/blog" class="btn-primary text-lg px-8 py-4">
          <span class="mr-2">üìö</span>
          <span data-translate="Voir tous les articles">Voir tous les articles</span>
        </a>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {recentPosts.map((post) => (
          <article class="card group hover:border-primary-500/50 transform hover:scale-105 transition-all duration-300">
            <div class="aspect-video bg-gradient-to-br from-secondary-800/50 to-secondary-700/50 rounded-xl mb-6 overflow-hidden border border-secondary-600/30">
              <div class="w-full h-full flex items-center justify-center">
                <span class="text-5xl opacity-60">üíã</span>
              </div>
            </div>
            
            <div class="flex items-center gap-2 mb-4">
              <span class="text-xs font-medium px-2 py-1 bg-secondary-600/30 text-secondary-300 rounded-full border border-secondary-500/30" data-translate={post.category}>
                {post.category}
              </span>
              <span class="text-sm text-secondary-400">{post.readTime}</span>
            </div>
            
            <h3 class="text-lg font-semibold text-white mb-3 group-hover:text-primary-400 transition-colors font-elegant">
              <a href={`/blog/${post.slug}`} data-translate={post.title}>{post.title}</a>
            </h3>
            
            <p class="text-secondary-300 mb-4 line-clamp-2 leading-relaxed" data-translate={post.excerpt}>{post.excerpt}</p>
            
            <time class="text-sm text-secondary-400" datetime={post.publishedAt} data-translate={new Date(post.publishedAt).toLocaleDateString('fr-FR', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}>
              {new Date(post.publishedAt).toLocaleDateString('fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              })}
            </time>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Newsletter CTA -->
  <section class="py-20 bg-gradient-to-r from-primary-900 to-secondary-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-elegant" data-translate="Restez Inform√© des Derni√®res Tendances">
        Restez Inform√© des Derni√®res Tendances
      </h2>
      <p class="text-xl text-primary-200 mb-10 max-w-3xl mx-auto leading-relaxed" data-translate="Recevez nos meilleurs articles directement dans votre bo√Æte mail. Pas de spam, juste du contenu de qualit√© pour adultes.">
        Recevez nos meilleurs articles directement dans votre bo√Æte mail. 
        <span class="text-white font-semibold">Pas de spam, juste du contenu de qualit√© pour adultes.</span>
      </p>
      
      <form class="max-w-md mx-auto flex gap-4 mb-6" id="hero-newsletter">
        <input
          type="email"
          placeholder="Votre adresse email"
          class="flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent text-white placeholder-white/60 backdrop-blur-sm"
          required
          data-translate="Votre adresse email"
        />
        <button
          type="submit"
          class="px-6 py-3 bg-white text-primary-600 font-semibold rounded-lg hover:bg-primary-50 transition-colors duration-200"
          data-translate="S'abonner"
        >
          S'abonner
        </button>
      </form>
      
      <p class="text-sm text-primary-200" data-translate="En vous abonnant, vous acceptez notre politique de confidentialit√©.">
        En vous abonnant, vous acceptez notre 
        <a href="/privacy" class="underline hover:no-underline text-white">politique de confidentialit√©</a>.
      </p>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="py-20 bg-gradient-to-b from-secondary-900 to-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        {stats.map((stat) => (
          <div class="group">
            <div class="text-5xl mb-4 group-hover:scale-110 transition-transform duration-300">
              {stat.icon}
            </div>
            <div class="text-4xl font-bold text-white mb-2 text-glow">{stat.number}</div>
            <div class="text-secondary-400" data-translate={stat.label}>{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </section>



  <!-- Live Chat -->
  <LiveChat />
</Layout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Custom animations for the new button */
  @keyframes ping {
    75%, 100% {
      transform: scale(2);
      opacity: 0;
    }
  }
  
  .animate-ping {
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
  
  .delay-100 {
    animation-delay: 100ms;
  }
  
  .delay-200 {
    animation-delay: 200ms;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const heroNewsletter = document.getElementById('hero-newsletter');
    
    if (heroNewsletter) {
      heroNewsletter.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const formData = new FormData(e.target as HTMLFormElement);
        const email = formData.get('email') as string;
        
        if (!email) return;
        
        try {
          const response = await fetch('/api/newsletter/subscribe', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email }),
          });
          
          if (response.ok) {
            alert('Merci pour votre inscription ! Vous recevrez bient√¥t nos derniers articles.');
            (e.target as HTMLFormElement).reset();
          } else {
            alert('Une erreur est survenue. Veuillez r√©essayer.');
          }
        } catch (error) {
          console.error('Newsletter subscription error:', error);
          alert('Une erreur est survenue. Veuillez r√©essayer.');
        }
      });
    }
  });
</script>

